{"version":3,"sources":["../../src/decorator/typechecker/IsInstance.ts"],"names":[],"mappings":";;AACA,4CAAuD;AAE1C,QAAA,WAAW,GAAG,YAAY,CAAC;AAExC;;GAEG;AACH,oBAA2B,MAAW,EAAE,qBAAkD;IACtF,OAAO,qBAAqB;WACrB,OAAO,qBAAqB,KAAK,UAAU;WAC3C,MAAM,YAAY,qBAAqB,CAAC;AACnD,CAAC;AAJD,gCAIC;AAED;;GAEG;AACH,oBAA2B,UAAuC,EAAE,iBAAqC;IAAzG,iBAeC;IAdG,OAAO,uBAAU,CAAC;QACV,IAAI,EAAE,mBAAW;QACjB,QAAQ,EAAE,UAAC,KAAK,EAAE,IAAI,IAAK,OAAA,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAtC,CAAsC;QACjE,WAAW,EAAE,CAAC,UAAU,CAAC;QACzB,cAAc,EAAE,yBAAY,CAAC,UAAC,UAAU,EAAE,IAAI;YAC1C,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;gBACrB,OAAO,UAAU,IAAG,sCAAoC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAM,CAAA,CAAC;aACtF;iBAAM;gBACH,OAAO,UAAU,IAAM,KAAI,CAAC,WAAW,iEAA8D,CAAA,CAAC;aACzG;QACL,CAAC,EAAE,iBAAiB,CAAC;KACxB,EACD,iBAAiB,CACpB,CAAC;AACN,CAAC;AAfD,gCAeC","file":"IsInstance.js","sourcesContent":["import {ValidationOptions} from \"../ValidationOptions\";\nimport {buildMessage, ValidateBy} from \"../ValidateBy\";\n\nexport const IS_INSTANCE = \"isInstance\";\n\n/**\n * Checks if the value is an instance of the specified object.\n */\nexport function isInstance(object: any, targetTypeConstructor: new (...args: any[]) => any) {\n    return targetTypeConstructor\n        && typeof targetTypeConstructor === \"function\"\n        && object instanceof targetTypeConstructor;\n}\n\n/**\n * Checks if all array's values are unique. Comparison for objects is reference-based.\n */\nexport function IsInstance(targetType: new (...args: any[]) => any, validationOptions?: ValidationOptions) {\n    return ValidateBy({\n            name: IS_INSTANCE,\n            validate: (value, args) => isInstance(value, args.constraints[0]),\n            constraints: [targetType],\n            defaultMessage: buildMessage((eachPrefix, args) => {\n                if (args.constraints[0]) {\n                    return eachPrefix + `$property must be an instance of ${args.constraints[0].name}`;\n                } else {\n                    return eachPrefix + `${this.IS_INSTANCE} decorator expects and object as value, but got falsy value.`;\n                }\n            }, validationOptions)\n        },\n        validationOptions\n    );\n}\n"],"sourceRoot":"../.."}